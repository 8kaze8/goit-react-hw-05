import{r,u as b,j as e,a as _}from"./index-BAUpiS6y.js";import{M as f}from"./MovieList-sAI_e02-.js";const v="_container_7hbux_1",y="_searchForm_7hbux_5",g="_input_7hbux_14",j="_button_7hbux_29",S="_error_7hbux_51",s={container:v,searchForm:y,input:g,button:j,error:S},q="fc00e292316728435fcb18b4452b3c72",F=()=>{const[n,h]=r.useState([]),[m,c]=r.useState(!1),[i,l]=r.useState(null),[d,p]=b(),t=d.get("query")??"";r.useEffect(()=>{if(!t)return;(async()=>{try{c(!0);const o=await _.get(`https://api.themoviedb.org/3/search/movie?api_key=${q}&query=${t}`);h(o.data.results)}catch{l("Failed to search movies")}finally{c(!1)}})()},[t]);const x=a=>{a.preventDefault();const u=a.currentTarget.elements.query.value;p(u!==""?{query:u}:{})};return e.jsxs("div",{className:s.container,children:[e.jsxs("form",{onSubmit:x,className:s.searchForm,children:[e.jsx("input",{type:"text",name:"query",defaultValue:t,placeholder:"Search movies...",className:s.input}),e.jsx("button",{type:"submit",className:s.button,children:"Search"})]}),m&&e.jsx("div",{children:"Loading..."}),i&&e.jsx("div",{className:s.error,children:i}),n.length>0&&e.jsx(f,{movies:n})]})};export{F as default};
